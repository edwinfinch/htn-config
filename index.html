<html>
	<head>

    <title>Ruler</title>
		
		<link rel="stylesheet" type="text/css" href="component.css" />
		<script src="modernizr.custom.js"></script>
        <link rel="stylesheet" href="font-awesome-4.2.0/css/font-awesome.min.css"><meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
        
	</head>
	<body>
        
		<div class="container">	
			<div id="bl-main" class="bl-main">
				<section>
					<div class="bl-box">
<h2 class="fa fa-smile-o bl-icon-about">Sync</h2>
                        

					</div>
					
                    <div class="bl-content">
    
  <body>
    <div data-role="page" id="main">
      <div data-role="header" class="jqm-header">
        <h1>Wag1</h1>
      </div>

      <div data-role="content">

<div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">

<div data-role="collapsible">
        <h3>Instructions</h3>
<b>To sync a workout activity:</b><br>
1. Select the activity slot you want to insert it into<br>
2. Enter in your data<br>
3. Save.<br><br>

(want to remove something? just check the box in the "Activity Number" section)<br><br>

<b>Made a mistake? The settings page remembers the last synced class for you to edit again, and again, and again.</b>
</div>

<div data-role="collapsible">
<h3>Activity Number</h3>

<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
    <legend>Are you erasing this slot?</legend>
    	<input name="key7" id="key7-1" data-type="int" value="1" checked="checked" type="radio">
        <label for="key7-1">No</label>
        <input name="key7" id="key7-0" data-type="int" value="0" type="radio">
        <label for="key7-0">Yes</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
    <legend>#</legend>
    	<input name="key0" id="key0-1" data-type="int" value="1" checked="checked" type="radio">
        <label for="key0-1">Slot 1</label>
        <input name="key0" id="key0-2" data-type="int" value="2" type="radio">
        <label for="key0-2">Slot 2</label>
        <input name="key0" id="key0-3" data-type="int" value="3" type="radio">
        <label for="key0-3">Slot 3</label>
        <input name="key0" id="key0-4" data-type="int" value="4" type="radio">
        <label for="key0-4">Slot 4</label>
        <input name="key0" id="key0-5" data-type="int" value="5" type="radio">
        <label for="key0-5">Slot 5</label>
        <input name="key0" id="key0-6" data-type="int" value="6" type="radio">
        <label for="key0-6">Slot 6</label>
        <input name="key0" id="key0-7" data-type="int" value="7" type="radio">
        <label for="key0-7">Slot 7</label>
        <input name="key0" id="key0-8" data-type="int" value="8" type="radio">
        <label for="key0-8">Slot 8</label>
        <input name="key0" id="key0-9" data-type="int" value="9" type="radio">
        <label for="key0-9">Slot 9</label>
</fieldset>

</div>

<div data-role="collapsible">
<h3>Details</h3>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
<legend>Data type</legend>
        <i>The type of data is what you want scaled. Steps, time, or weight.</i>
    	<input name="key1" id="key1-0" data-type="int" value="0" checked="checked" type="radio">
        <label for="key1-0">Steps (will register you for walking/running accelerometer event)</label>
        <input name="key1" id="key1-1" data-type="int" value="1" type="radio">
        <label for="key1-1">Time</label>
        <input name="key1" id="key1-2" data-type="int" value="2" type="radio">
        <label for="key1-2">Weight</label>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Goal</h4></legend>
 <i>The goal amount will correlate with the type of data you're using. ie. Steps</i>
    <div class="ui-field-contain">
      <input type="number" name="key4" id="goal" onkeypress="return isNumberKey(event)" placeholder="Numbers only" value="100" data-mini="true" type="text" maxlength="17">
    </div>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Length</h4></legend>
 <i>How long do you want to do this activity for? In minutes, please.</i>
    <div class="ui-field-contain">
      <input type="number" name="key5" id="goal" onkeypress="return isNumberKey(event)" placeholder="Numbers only" value="15" data-mini="true" type="text" maxlength="17">
    </div>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Activity Name</h4></legend>
    <div class="ui-field-contain">
      <input name="key2" id="name" placeholder="Enter custom slot text" value="Running" data-mini="true" type="text" maxlength="10">
    </div>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Other info</h4></legend>
    <div class="ui-field-contain">
      <input name="key3" id="other" placeholder="Enter custom slot text" value="Enter extra info..." data-mini="true" type="text" maxlength="17">
    </div>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Accelerometer</legend>
    <b>Are you running? Other activity? Use this below checkbox to register your activity for a certain
    	accelerometer event. Running will track steps. More to come soon
    </b>
    	<input name="key6" id="key6-1" data-type="int" value="1" checked="checked" type="radio">
        <label for="key6-1">Running</label>
        <input name="key6" id="key6-0" data-type="int" value="0" type="radio">
        <label for="key6-0">Other</label>
</fieldset>

</div>

</div>
<br />
        <div class="ui-body ui-body-c">
          <fieldset class="ui-grid-a">
              <div class="ui-block-a"><button type="submit" data-theme="d" id="b-cancel">Cancel</button></div>
              <div class="ui-block-b"><button type="submit" data-theme="a" id="b-submit">Save</button></div>
          </fieldset>
        </div>
      </div>
    </div>
    <script>
      function saveOptions() {
        var options = {
          'number':     Number( $("input[name=key0]:checked").val() ),	
          'type':     Number($("input[name=key1]").val() ),
          'name':     $("input[name=key2]").val(),
          'other':     $("input[name=key3]").val(),
          'goal':     Number($("input[name=key4]").val()),
          'length':     Number($("input[name=key5]").val()),
          'enabled':     Number($("input[name=key7]").val()),
          'accelservice':     Number($("input[name=key7]").val()),
        }
        return options;
      }

      $().ready(function() {
       if (typeof window.localStorage !== "undefined") {
       	console.log("Not undefined :)");
        if (window.localStorage.class_settings) {
          ls_pto = JSON.parse(window.localStorage.class_settings);
          /*
          $("input[name=key0][id=key3-"+ls_pto["number"]+"]").prop('checked',true);
          $("input[name=key0]").checkboxradio('refresh');
          $("input[name=key1]").val(ls_pto["prof"]);
          $("input[name=key2]").val(ls_pto["code"]);
          $("input[name=key3][id=key3-"+ls_pto["type"]+"]").prop('checked',true);
          $("input[name=key3]").checkboxradio('refresh');
          $("input[name=key5]").val(ls_pto["start_mon"]);
          $("input[name=key6]").val(ls_pto["end_mon"]);
          $("input[name=key4]").val(ls_pto["name"]);
          $("input[name=key7]").val(ls_pto["start_tue"]);
          $("input[name=key8]").val(ls_pto["end_tue"]);
          $("input[name=key9]").val(ls_pto["start_wed"]);
          $("input[name=key10]").val(ls_pto["end_wed"]);
          $("input[name=key11]").val(ls_pto["start_thu"]);
          $("input[name=key12]").val(ls_pto["end_thu"]);
          $("input[name=key13]").val(ls_pto["start_fri"]);
          $("input[name=key14]").val(ls_pto["end_fri"]);
          */
        }
       }
        $("#b-cancel").click(function() {
          console.log("Cancel");
          document.location = "pebblejs://close";
        });

        $("#b-submit").click(function() {
          console.log("Submit");

          ls_pto = JSON.stringify(saveOptions());
          if (typeof window.localStorage !== "undefined") {
            window.localStorage.class_settings = ls_pto;
          }
          var location = "pebblejs://close#" + ls_pto;
          console.log("Warping to: " + location);
          console.log(location);
          document.location = location;
        });

      });
    </script>
  </body>
</html>



<script>
function isNumberKey(evt){
    var charCode = (evt.which) ? evt.which : event.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
    return true;
}    
</script>
                    
<div class="movethisstuffman">
        <span class="bl-icon bl-icon-close"></span>
</div>
        
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="boxlayout.js"></script>
        
		<script>
			$(function() {
				Boxlayout.init();
			});
            
    
		</script>
        
	</body>
    
</html>
